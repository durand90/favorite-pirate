{"ast":null,"code":"import _slicedToArray from\"C:/Users/duran/OneDrive/Desktop/react_projects/js_exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState}from'react';import{Link,useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Create=function Create(){var history=useHistory();var positions=['Captain','First Mate','Quarter Master','Boatswain','Powder Monkey'];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),pirateName=_useState2[0],setPirateName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),treasureChests=_useState6[0],setTreasureChests=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),catchPhrase=_useState8[0],setCatchPhrase=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),pegLeg=_useState10[0],setPegLeg=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),eyePatch=_useState12[0],setEyePatch=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),hookHand=_useState14[0],sethookHand=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),crewPosition=_useState16[0],setCrewPosition=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),errors=_useState18[0],setErrors=_useState18[1];var handleSubmit=function handleSubmit(e){e.preventDefault();console.log('button clicked');var newPirate={pirateName:pirateName,image:image,treasureChests:treasureChests,catchPhrase:catchPhrase,crewPosition:crewPosition,eyePatch:eyePatch,pegLeg:pegLeg,hookHand:hookHand};axios.post('http://localhost:8000/api/pirates',newPirate).then(function(res){console.log(res.data);console.log('CLIENT SUCCESS!!!');history.push('/');}).catch(function(err){console.log(err);console.log('CLIENT ERROR!!!');var errorResponse=err.response.data.errors;// Get the errors from err.response.data\nvar errorArr=[];// Define a temp error array to push the messages in\nfor(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];// Loop through all errors and get the messages\nerrorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Pirate\"}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Crew Board\"})}),/*#__PURE__*/_jsx(\"p\",{children:errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:err},index);})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'orange',width:'80%',margin:'0 auto',display:'flex',justifyContent:'space-evenly',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate Name:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPirateName(e.target.value);},value:pirateName})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Image Url:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setImage(e.target.value);},value:image})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"# of Treasure Chests:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setTreasureChests(e.target.value);},value:treasureChests}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pirate Catch Phrase:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setCatchPhrase(e.target.value);},value:catchPhrase})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Crew Position:\",/*#__PURE__*/_jsx(\"select\",{value:crewPosition,onChange:function onChange(e){return setCrewPosition(e.target.value);},children:positions.map(function(position,index){return/*#__PURE__*/_jsx(\"option\",{value:position,children:position},index);})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Peg Leg:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return setPegLeg(e.target.checked);},checked:pegLeg})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Eye Patch:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return setEyePatch(e.target.checked);},checked:eyePatch})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Hook Hand:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return sethookHand(e.target.checked);},checked:hookHand})]})}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Pirate\"})]})]})})]});};export default Create;","map":{"version":3,"sources":["C:/Users/duran/OneDrive/Desktop/react_projects/js_exam/client/src/components/Create.jsx"],"names":["axios","React","useState","Link","useHistory","Create","history","positions","pirateName","setPirateName","image","setImage","treasureChests","setTreasureChests","catchPhrase","setCatchPhrase","pegLeg","setPegLeg","eyePatch","setEyePatch","hookHand","sethookHand","crewPosition","setCrewPosition","errors","setErrors","handleSubmit","e","preventDefault","console","log","newPirate","post","then","res","data","push","catch","err","errorResponse","response","errorArr","Object","keys","key","message","map","index","color","backgroundColor","width","margin","display","justifyContent","gap","target","value","position","checked"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react'\r\n\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\n\r\nexport const Create = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const positions = ['Captain', 'First Mate', 'Quarter Master', 'Boatswain', 'Powder Monkey']\r\n\r\n\r\n    const [pirateName, setPirateName] = useState('');\r\n    const [image, setImage] = useState('');\r\n    const [treasureChests, setTreasureChests] = useState('');\r\n    const [catchPhrase, setCatchPhrase] = useState('');\r\n    const [pegLeg, setPegLeg] = useState(true);\r\n    const [eyePatch, setEyePatch] = useState(true);\r\n    const [hookHand, sethookHand] = useState(true);\r\n    const [crewPosition, setCrewPosition] = useState('');\r\n\r\n    const [errors, setErrors] = useState([]);\r\n\r\n\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('button clicked')\r\n\r\n        const newPirate = {\r\n            pirateName,\r\n            image,\r\n            treasureChests,\r\n            catchPhrase,\r\n            crewPosition,\r\n            eyePatch,\r\n            pegLeg,\r\n            hookHand\r\n\r\n        }\r\n\r\n        axios.post('http://localhost:8000/api/pirates', newPirate)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                console.log('CLIENT SUCCESS!!!')\r\n                history.push('/')\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                console.log('CLIENT ERROR!!!')\r\n\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setErrors(errorArr)\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* <p>{JSON.stringify(pirateName)}</p>\r\n            <p>{JSON.stringify(image)}</p>\r\n            <p>{JSON.stringify(treasureChests)}</p>\r\n            <p>{JSON.stringify(catchPhrase)}</p>\r\n            <p>{JSON.stringify(pegLeg)}</p>\r\n            <p>{JSON.stringify(eyePatch)}</p>\r\n            <p>{JSON.stringify(hookHand)}</p> */}\r\n            <h1>Add Pirate</h1>\r\n            <button><Link to='/'>Crew Board</Link></button>\r\n            <p>\r\n                {errors.map((err, index) => <p style={{ color: \"red\" }} key={index}>{err}</p>)}\r\n            </p>\r\n            <form onSubmit={handleSubmit}>\r\n                <div style={{ backgroundColor: 'orange', width: '80%' , margin: '0 auto', display: 'flex', justifyContent: 'space-evenly', gap: '20px'}}>\r\n\r\n\r\n                    <div >\r\n                        <div>\r\n                            <label>\r\n                                Pirate Name:\r\n                                <input onChange={(e) => setPirateName(e.target.value)} value={pirateName} />\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label>\r\n                                Image Url:\r\n                                <input onChange={(e) => setImage(e.target.value)} value={image} />\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label>\r\n                                # of Treasure Chests:\r\n                                <input type='number' onChange={(e) => setTreasureChests(e.target.value)} value={treasureChests} />\r\n                                <div>\r\n\r\n                                </div>\r\n                            </label>\r\n                            <div>\r\n                            </div>\r\n                            <label>\r\n                                Pirate Catch Phrase:\r\n                                <input onChange={(e) => setCatchPhrase(e.target.value)} value={catchPhrase} />\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div>\r\n                        <div>\r\n                            Crew Position:\r\n                            <select value={crewPosition} onChange={(e) => setCrewPosition(e.target.value)}>\r\n                                {\r\n                                    positions.map((position, index) => {\r\n                                        return <option key={index} value={position}>{position}</option>\r\n                                    })\r\n                                }\r\n                            </select>\r\n\r\n                        </div>\r\n                        <div>\r\n                            <label>\r\n                                Peg Leg:\r\n                                <input type='checkbox' onChange={(e) => setPegLeg(e.target.checked)} checked={pegLeg} />\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label>\r\n                                Eye Patch:\r\n                                <input type='checkbox' onChange={(e) => setEyePatch(e.target.checked)} checked={eyePatch} />\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label>\r\n                                Hook Hand:\r\n                                <input type='checkbox' onChange={(e) => sethookHand(e.target.checked)} checked={hookHand} />\r\n                            </label>\r\n                        </div>\r\n                    <button>Add Pirate</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Create;"]},"metadata":{},"sourceType":"module"}